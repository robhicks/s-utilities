var SUtils=function(t){"use strict";function e(t,e){return!!t&&!(!t.className||null===t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))}function n(t,n){!e(t,n)&&t&&(t.className+=(t.className?" ":"")+n)}function r(t,n){t&&e(t,n)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}Promise.allSettled=function(t){return Promise.all(t.map(function(t){return t.then(function(t){return{state:"fulfilled",value:t}}).catch(function(t){return{state:"rejected",reason:t}})}))},Promise.series=function(t){var e=[];return t.reduce(function(t,n){return t.then(function(){return n.then(function(t){return e.push(t),e})})},Promise.resolve())};var o=function(){this.storeMap={}};function i(t,e,n){var r;return function(){var o=this,i=arguments,s=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(o,i)},e),s&&t.apply(o,i)}}o.prototype.get=function(t,e){return this.getStore(t)[e]||null},o.prototype.getAll=function(){console.log("this.storeMap",this.storeMap)},o.prototype.set=function(t,e,n){if(n)return this.getStore(t)[e]=n,n},o.prototype.remove=function(t,e){if(e){var n=this.getStore(t);n[e]&&delete n[e]}else{var r=t[this.storeId];r&&(delete this.storeMap[r],delete t[this.storeId])}},o.prototype.getStore=function(t){var e=this.storeId,n=this.storeMap,r=t[e];return r||(n[r=t[e]=this.uid++]={}),n[r]};var s=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t||"object"!=typeof e)throw TypeError("target and handler must be objects");return this._create(t,e,n)};s.prototype._create=function(t,e,n){var r;void 0===n&&(n=!1);var o=(r=Array.isArray(t)?t:n?Proxy.revocable(t,e):new Proxy(t,e)).proxy?r.proxy:r;for(var i in o)o.hasOwnProperty(i)&&(o[i]&&"object"==typeof o[i]&&!Array.isArray(o)&&(o[i]=this._create(o[i],e,n)),Array.isArray(o)&&(o=n?Proxy.revocable(o,e):new Proxy(o,e)));return Array.isArray(r)?n?Proxy.revocable(r,e):new Proxy(r,e):r},s.revocable=function(t,e){var n=new s(t,e,!0);return{revoke:n.revoke,proxy:n.proxy}};var a=function(t){void 0===t&&(t=""),this.string=String(t)};function u(t,e){if("string"!=typeof t)throw TypeError("event must be string");if("function"!=typeof e)throw TypeError("listener must be function")}a.prototype.toString=function(){return this.string},a.prototype.append=function(t){return this.string+=t,this},a.prototype.insert=function(t,e){this.string.length;var n=this.string.slice(0,t),r=this.string.slice(t);return this.string=n+e+r,this};var c=new Map,f=function(t){if(void 0===t&&(t=!1),t){if(c.has("instance"))return c.get("instance");c.set("instance",this)}this.events={}},p={size:{configurable:!0}};return f.prototype.clear=function(){this.events={}},f.prototype.emit=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];this.events[t]&&(this.events[t]||[]).forEach(function(t){return t.apply(void 0,e)})},f.prototype.off=function(t,e){if(u(t,e),this.events[t]){var n=this.events[t].findIndex(function(t){return t===e});n>-1&&this.events[t].splice(n,1),0===this.events[t].length&&delete this.events[t]}},f.prototype.on=function(t,e){u(t,e),this.events[t]||(this.events[t]=[]),this.events[t].push(e)},f.prototype.once=function(t,e){u(t,e);var n=this;this.on(t,function r(){n.off(t,r),e.apply(this,arguments)})},p.size.get=function(){return Object.keys(this.events).length},Object.defineProperties(f.prototype,p),t.accessCode=function(){var t=(new Date).getTime();return"xxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},t.addClass=n,t.addClasses=function(t,e){void 0===e&&(e=""),e.split(" ").forEach(function(e){return n(t,e)})},t.appendAfter=function(t,e){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},t.contains=function(t,e){return void 0===t&&(t=""),-1!==t.indexOf(e)},t.copy=function(t){return void 0===t&&(t={}),JSON.parse(JSON.stringify(t))},t.DataStore=o,t.debounce=i,t.DeepProxy=s,t.hasClass=e,t.isInViewport=function(t){var e=t.getBoundingClientRect(),n=document.documentElement;return e.top>=0-e.height&&e.left>=0-e.width&&e.bottom<=n.clientHeight+e.height&&e.right<=n.clientWidth},t.isJson=function(t){try{return JSON.parse(t)}catch(t){return!1}},t.pad=function(t,e,n){return void 0===t&&(t=""),void 0===n&&(n="0"),t.length>=e?t:new Array(e-t.length+1).join(n)+t},t.removeClass=r,t.StringBuilder=a,t.throttle=function(t,e,n){return i(t,e,n)},t.toggleClass=function(t,o){e(t,o)?r(t,o):n(t,o)},t.uuid=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},t.EventEmitter=f,t}({});
